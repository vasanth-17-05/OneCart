<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product Details - OneCartPice</title>
<link rel="stylesheet" href="css/style.css">
<style>
  body {
    background-color: rgb(90, 125, 200);
    font-family: Arial, sans-serif;
  }

  header {
    background: black;
    color: white;
    padding: 15px 0;
    text-align: center;
  }

  header nav a {
    color: white;
    margin: 0 15px;
    text-decoration: none;
    font-weight: bold;
  }

  header nav a:hover {
    text-decoration: underline;
  }

  .product-detail {
    display: flex;
    justify-content: space-between;
    padding: 30px;
    background-color: white;
    margin: 20px;
    border-radius: 12px;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
  }

  .product-detail img {
    width: 300px;
    height: auto;
    border-radius: 10px;
    object-fit: cover;
  }

  .product-info {
    max-width: 60%;
  }

  .product-info h3 {
    font-size: 28px;
    color: black;
  }

  .product-info p {
    font-size: 16px;
    color: #666;
  }

  .product-info .price {
    font-weight: bold;
    font-size: 20px;
    color: black;
    margin-top: 10px;
  }

  .product-info button {
    background: black;
    color: white;
    border: none;
    padding: 10px 20px;
    margin-top: 20px;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.3s ease;
  }

  .product-info button:hover {
    background: #444;
  }
</style>
</head>
<body>

<header>
  <h1>OneCartPice</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="cart.html">Cart</a>
    <a href="login.html">Login</a>
    <a href="register.html">Register</a>
  </nav>
</header>

<main id="product-detail-main">
  <!-- Product details will be dynamically inserted here by JavaScript -->
</main>

<script type="module">
  const localProducts = [
    {
      id: 1,
      name: "Perfume",
      price: 50,
      image: "perfume.jpg",
      description:
        "A long-lasting fragrance with a blend of floral and woody notes that keeps you fresh all day. Perfect for daily wear and special occasions."
    },
    {
      id: 2,
      name: "Luxury Watch",
      price: 250,
      image: "watch.jpg",
      description:
        "A premium stainless steel wristwatch with chronograph functionality and water resistance, combining elegance with precision."
    },
    {
      id: 3,
      name: "Leather Shoes",
      price: 150,
      image: "shoes.jpg",
      description:
        "Stylish and durable handcrafted leather shoes offering maximum comfort and a classic look for every outfit."
    },
    {
      id: 4,
      name: "iPhone 17 Pro Max",
      price: 1099,
      image: "i phone.jpg",
      description:
        "Apple’s latest flagship phone with the A19 Bionic chip, ultra-retina XDR display, and advanced triple-camera system."
    },
    {
      id: 5,
      name: "Power Bank",
      price: 180,
      image: "power bank.jpg",
      description:
        "20,000mAh high-speed charging power bank with dual USB ports and LED indicator, ideal for travel and daily use."
    },
    {
      id: 6,
      name: "Shampoo",
      price: 250,
      image: "shampoo.jpg",
      description:
        "Enriched with natural extracts to nourish your hair, reduce dandruff, and leave it silky smooth and strong."
    },
    {
      id: 7,
      name: "Sunglasses",
      price: 150,
      image: "sunglasses.jpg",
      description:
        "UV-protected polarized sunglasses with a sleek design for maximum comfort and eye protection under the sun."
    },
    {
      id: 8,
      name: "GTA VI Game PS5 Edition",
      price: 450,
      image: "GTA vi.jpg",
      description:
        "Experience the next generation of open-world gaming with stunning visuals, fast loading, and immersive storylines."
    },
    {
      id: 9,
      name: "Silver Bracelet",
      price: 150,
      image: "Silver bracelet.jpg",
      description:
        "Elegant and timeless silver bracelet crafted with precision — perfect for any occasion or as a gift."
    },
    {
      id: 10,
      name: "Headphones",
      price: 450,
      image: "headphones.jpg",
      description:
        "Wireless over-ear headphones with deep bass, noise cancellation, and long-lasting battery life for immersive sound."
    },
    {
      id: 11,
      name: "MacBook M4",
      price: 200,
      image: "mac.jpg",
      description:
        "Apple MacBook M4 with the new M4 chip, Liquid Retina display, and all-day battery life — power meets portability."
    },
    {
      id: 12,
      name: "Nothing Mobile",
      price: 2990,
      image: "nothing.jpg",
      description:
        "Futuristic smartphone with transparent design, Glyph interface, and next-gen performance for a unique experience."
    }
  ];

  // Get the product ID from the URL query parameters
  const params = new URLSearchParams(window.location.search);
  const productId = parseInt(params.get('id'), 10);

  // Find the product that matches the ID
  const product = localProducts.find(p => p.id === productId);

  if (product) {
    // Render the product details
    const productDetailMain = document.getElementById("product-detail-main");
    productDetailMain.innerHTML = `
      <div class="product-detail">
        <img src="images/products/${product.image}" alt="${product.name}">
        <div class="product-info">
          <h3>${product.name}</h3>
          <p>${product.description}</p>
          <p class="price">$${product.price}</p>
          <button onclick="addToCart(${product.id})">Add to Cart</button>
        </div>
      </div>
    `;
  } else {
    // If no product is found
    document.getElementById("product-detail-main").innerHTML = "<h2>Product not found.</h2>";
  }

  // Function to add product to cart
  function addToCart(id) {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const exists = cart.find(c => c.id === id);
    if (exists) exists.qty++;
    else cart.push({ id, qty: 1 });
    localStorage.setItem("cart", JSON.stringify(cart));
    alert("Added to cart!");
  }
</script>

</body>
</html>
